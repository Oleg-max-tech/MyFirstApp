export const API_KEY = "ea8cf142ec6b70fa2487438ddee56fca";
export const BASE_URL = "https://api.themoviedb.org/3";

export const tmbdApi = {
  getTrendingMovies: async () => {
    const response = await fetch(
      `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}`
    );
    return response.json();
  },
  searchMovies: async (query: string) => {
    const response = await fetch(
      `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${API_KEY}`
    );
    return response.json();
  },
  getMoviesByTypeAndGenre: async (type: string, genre: string | null) => {
    const url = genre
      ? `https://api.themoviedb.org/3/discover/${type}?with_genres=${genre}&api_key${API_KEY}`
      : `https://api.themoviedb.org/3/trending/${type}/week?api_key=${API_KEY}`;
    const response = await fetch(url);
    return response.json();
  },

  getTrendingTVShows: async () => {
    const response = await fetch(
      `https://api.themoviedb.org/3/trending/tv/week?api_key=${API_KEY}`
    );
    return response.json();
  },
  searchTVShows: async (query: string) => {
    const response = await fetch(
      `https://api.themoviedb.org/3/search/tv?query=${query}&api_key=${API_KEY}`
    );
    return response.json();
  },
};
